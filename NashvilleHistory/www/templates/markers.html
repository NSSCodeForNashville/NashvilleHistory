<ion-view view-title="Places Near Me">
 <ion-content>
    <ui-gmap-google-map  center="map.center"
                      zoom="map.zoom"
                      >
        <ui-gmap-marker
            idKey = 'youAreHere.id'
            coords='youAreHere.coords',
            options = 'youAreHere.options'
            >
        </ui-gmap-marker>
      <!-- Map markers here -->
        <ui-gmap-markers
              models="markers" coords="'self'" icon="'icon'" options="'options'" click="markerClick" ng-cloak>
        </ui-gmap-markers>
        <!-- <ui-gmap-markers
              models="campgrounds" coords="'self'" icon="'icon'" click="onClickCampgrounds" options="'options'" ng-cloak>
        </ui-gmap-markers> -->
      </ui-gmap-google-map>
      <div class="list card" ng-repeat="markerCard in MarkerCards" ng-show="!markerClicked">
        <div class="item item-divider">
          <div class="row">
            <div class="col-75">
              <i class="fa fa-university" ng-show="markerCard.marker_text"></i>
              <i class="fa fa-flag" ng-show="markerCard.civil_war_site === 'X'"></i>
              <i class="fa fa-paint-brush" ng-show="markerCard.description || markerCard.artwork || markerCard.medium"></i>
              <p class="text-wrap"> {{markerCard.title}} {{markerCard.type}} <span ng-show="markerCard.first_name"> {{markerCard.artwork}} <i> by {{markerCard.first_name}} {{markerCard.last_name}}</i></p>
              <p><i> {{markerCard.distance}} mi. away</i></span></p>
            </div>
            <div class="col">
              <button class="button danger" ng-click="showDescription = !showDescription ">
                <i class="icon ion-arrow-down-b" ng-show="!showDescription"></i>
                <i class="icon ion-arrow-up-b" ng-show="showDescription"></i>
              </button>
            </div>
          </div>
        <div ng-show="showDescription">
          <div class="item item-text-wrap">
            <img src="{{markerCard.photo_link}}" alt="artwork photo" ng-show="markerCard.photo_link">
            <p>
              {{markerCard.marker_text}} {{markerCard.description}}
            </p>
            <p ng-show="markerCard.medium"> MEDIUM: {{markerCard.medium}} </p>
          </div>
          <div class="button-bar row">
            <div class="col-33">
              <button class="button danger tooltip" ng-disabled="!userLoggedIn" title="You must be logged in to bookmark this" ng-click="AddToBookmarks(markerCard, $index)" ng-if="!markerCard.isBookmarked">
                <i class="icon ion-bookmark"></i> Bookmark
              </button>
              <span ng-if="markerCard.isBookmarked"> <i class="bookmarked"> Bookmarked </i> </span>
            </div>
            <div class="col-33">
              <button class="button danger tooltip" ng-disabled="!userLoggedIn" title="You must be logged in to add this" ng-click="AddToRoute(markerCard)">
                <i class="icon ion-plus"></i> Add to Route
              </button>
            </div>
            <div class="col-33">
              <button class="button danger">
                <i class="icon ion-navigate"></i> Go
              </button>
            </div>
          </div>
        </div>
      </div>
      </div>
      <!-- Individual Marker Card when a Marker is clicked -->
      <div class="list-card" ng-show="markerClicked">
        <div class="item item-divider">
          <div class="row">
            <div class="col-75">
              <i class="fa fa-university" ng-show="activeMarker.marker_text"></i>
              <i class="fa fa-flag" ng-show="activeMarker.civil_war_site === 'X'"></i>
              <i class="fa fa-paint-brush" ng-show="activeMarker.description || activeMarker.artwork || activeMarker.medium"></i>
              <p class="text-wrap"> {{activeMarker.title}} {{activeMarker.type}} <span ng-show="activeMarker.first_name"> {{activeMarker.artwork}} <i> by {{activeMarker.first_name}} {{activeMarker.last_name}}</i></p>
              <p><i> {{activeMarker.distance}} mi. away</i></span></p>
            </div>
            <div class="col">
              <button class="button danger" ng-click="closeActiveMarker()">
                <i class="icon ion-close"></i>
              </button>
            </div>
          </div>
        <div>
          <div class="item item-text-wrap">
            <img src="{{activeMarker.photo_link}}" alt="artwork photo" ng-show="activeMarker.photo_link">
            <p>
              {{activeMarker.marker_text}} {{activeMarker.description}}
            </p>
            <p ng-show="activeMarker.medium"> MEDIUM: {{activeMarker.medium}} </p>
          </div>
          <div class="button-bar">
            <button class="button danger tooltip" ng-disabled="!userLoggedIn" title="You must be logged in to bookmark this" ng-click="AddToBookmarks(activeMarker)">
              <i class="icon ion-bookmark"></i> Bookmark
            </button>
            <!-- <span class="bookmarked"> <i> Already Bookmarked <i> </span> -->
            <button class="button danger tooltip" ng-disabled="!userLoggedIn" title="You must be logged in to add this" ng-click="AddToRoute(activeMarker)">
              <i class="icon ion-plus"></i> Add to Route
            </button>
            <button class="button danger">
              <i class="icon ion-navigate"></i> Go
            </button>
          </div>
        </div>
      </div>
  </ion-content>
</ion-view>
